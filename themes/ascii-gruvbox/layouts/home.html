{{ define "main" }}

<!-- Welcome Section -->
<section class="welcome">
  <h1>Welcome</h1>
  <p>
    This is where I document my journey through the depths of systems programming, 
    share insights about low-level development, and occasionally rant about compiler optimizations.
  </p>
</section>

<!-- Recent Posts Section -->
<section class="recent-posts">
  <h2>Recent Posts</h2>
  
  <!-- Post List -->
  <ul class="post-list">
    {{ $posts := first 3 (where site.RegularPages "Section" "posts") }}
    {{ range $posts }}
      <li class="post-item">
        <!-- Post Title -->
        <h3 class="post-title">
          <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
        </h3>
        
        <!-- Post Metadata -->
        <div class="post-meta">
          <span class="post-date">{{ .Date.Format "2006-01-02" }}</span>
          {{ if .Params.tags }}
            <span class="post-tags"> | Tags: 
              {{ range .Params.tags }}
                <a href="{{ `/tags/` | relURL }}{{ . | urlize }}" class="tag">{{ . }}</a>
              {{ end }}
            </span>
          {{ end }}
        </div>
        
        <!-- Post Summary -->
        <p class="post-summary">{{ .Summary }}</p>
      </li>
    {{ end }}
  </ul>
  
  <!-- Binary Tree Separator (Centered) -->
  <div class="tree-separator" style="text-align: center; margin-top: 2rem;">
    {{ $tree := `
        o
       / \
      /   \
     /     \
    o       o
   / \     / \
  /   \   /   \
 o     o o     o` }}
    
    {{ with diagrams.Goat $tree }}
      <svg class="binary-tree" width="{{ .Width }}" height="{{ .Height }}" xmlns="http://www.w3.org/2000/svg">
        {{ .Inner }}
      </svg>
    {{ end }}
  </div>
  
</section>

{{ end }}
